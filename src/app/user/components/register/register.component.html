<div class="ui inverted dimmer" [class.active]=loading>
  <div class="ui text loader">
    Loading
  </div>
</div>
  <div class="row pt-5">
    <div class="col-md-5 mx-auto">
        <div class="card rounded-0">
            <div class="card-header bg-primary">
                <h3 class="mb-0">Register</h3>
            </div>
            <div class="card-body">
                <form #registerForm="ngForm" class="form" (ngSubmit)="registerUser()">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input  name="email" type="email" class="form-control rounded-0" placeholder="Enter email" [(ngModel)]="user.email" #email="ngModel" required pattern="^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$"
                        [class.is-invalid]="email.invalid && email.touched">
                        <div *ngIf="email.errors && (email.invalid && email.touched)">
                          <small class="text-danger" *ngIf="email.errors.required">*Email Id is required</small>
                          <small class="text-danger" *ngIf="email.errors.pattern">*Enter the valid Email Id</small>
                        </div>
                    </div>
                    <div class="form-group">
                      <label for="username">Username</label>
                      <input  name="username" type="text" class="form-control rounded-0" placeholder="Enter username" [(ngModel)]="user.username" #username="ngModel" required
                      [class.is-invalid]="username.invalid && username.touched">
                      <small class="text-danger" [class.d-none]="username.valid || username.untouched">*Username is required</small>
                    </div>
                    <div class="form-group">
                        <label for="pwd">Password</label>
                        <input name="password" type="password" class="form-control rounded-0" placeholder="Enter password" [(ngModel)]="user.password" #password="ngModel" required
                        [class.is-invalid]="password.invalid && password.touched">
                        <small class="text-danger" [class.d-none]="password.valid || password.untouched">*Password is required</small>
                    </div>
                    <div class="form-group">
                      <label for="cpwd">Confirm password</label>
                      <input  name="cpassword" type="password" class="form-control rounded-0" placeholder="Please confirm the password" (ngModel)="user.password" #cpassword="ngModel" required
                      [class.is-invalid]="password.invalid && password.touched">
                      <small class="text-danger" [class.d-none]="(cpassword.value==password.value) || cpassword.untouched">*Password and Confirm password must be same</small>
                    </div>
                    <p>Already have an account? <a routerLink="/user/login">Login</a></p>
                    <small *ngIf="message.length>0" class="alert alert-danger">{{message}}</small>
                    <button [disabled]="registerForm.form.invalid" type="submit" class="btn btn-primary float-right">Register</button>
                </form>
            </div>
        </div>
    </div>
  </div>
